---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
const posts = (await getCollection('blog')).sort((a,b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---
<BaseLayout title="Latest News" description="Breaking news from Nagpur and Vidarbha.">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="lg:col-span-2 space-y-8">
            {posts.map(post => (
                <article class="border-b pb-6">
                    <a href={`/posts/${post.slug}`} class="group">
                        <h2 class="text-2xl font-bold group-hover:text-blue-700">{post.data.title}</h2>
                        <p class="text-gray-600 mt-2 line-clamp-2">{post.data.description}</p>
                    </a>
                </article>
            ))}
        </div>
        <aside class="bg-white p-6 border rounded">
            <h3 class="font-bold border-b mb-4 pb-2">CATEGORIES</h3>
            <ul class="text-blue-800 space-y-2">
                <li><a href="/category/city">City News</a></li>
                <li><a href="/category/metro">Metro Updates</a></li>
            </ul>
        </aside>
    </div>
</BaseLayout>

